<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Jeffrey W. Hollister &amp; Luke Winslow" />


<title>B. Get</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>



<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23header%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%20code%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" rel="stylesheet" type="text/css" />

</head>

<body>




<h1 class="title toc-ignore">B. Get</h1>
<h4 class="author"><em>Jeffrey W. Hollister &amp; Luke Winslow</em></h4>
<h4 class="date"><em>21 July, 2016</em></h4>


<div id="TOC">
<ul>
<li><a href="#quick-links-to-exercises-and-r-code">Quick Links to Exercises and R code</a></li>
<li><a href="#lesson-goals">Lesson Goals</a></li>
<li><a href="#more-basics">More basics</a><ul>
<li><a href="#workflow">Workflow</a></li>
<li><a href="#working-in-the-console">Working in the Console</a></li>
</ul></li>
<li><a href="#exercise-1">Exercise 1</a></li>
<li><a href="#data-types-and-data-structures-in-r">Data types and data structures in R</a><ul>
<li><a href="#data-types">Data Types</a></li>
<li><a href="#na-inf-and-nan">NA, Inf, and NaN</a></li>
<li><a href="#data-structures">Data Structures</a></li>
<li><a href="#vectors">Vectors</a></li>
<li><a href="#factors">Factors</a></li>
<li><a href="#data-frames">Data frames</a></li>
<li><a href="#lists">Lists</a></li>
</ul></li>
<li><a href="#reading-data-into-r">Reading data into R</a></li>
<li><a href="#optional-reading-nwis-data-into-r">Optional: Reading NWIS data into R</a></li>
<li><a href="#exercise-2">Exercise 2</a></li>
</ul>
</div>

<table>
<thead>
<tr class="header">
<th align="left">Previous Lesson</th>
<th align="left">Current Lesson</th>
<th align="left">Next Lesson</th>
<th align="left">Workshop Outline</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="A_Introduction.html">A. Introduction</a></td>
<td align="left"><a href="B_Get.html">B. Get</a></td>
<td align="left"><a href="C_Clean.html">C. Clean</a></td>
<td align="left"><a href="Outline.html">Workshop Outline</a></td>
</tr>
</tbody>
</table>
<p>The second lesson is going to start to lay the foundation for working with data in R. We will cover some of the very basics of R first, then move on to how you get data into R and how you work with some of the basic data structures. Lastly, we will cover some ways to find relevant data and pull it directly into R.</p>
<div id="quick-links-to-exercises-and-r-code" class="section level2">
<h2>Quick Links to Exercises and R code</h2>
<ul>
<li><a href="#exercise-1">Exercise 1</a>: Introduction to the console and basic functions</li>
<li><a href="#exercise-2">Exercise 2</a>: Read in data</li>
</ul>
</div>
<div id="lesson-goals" class="section level2">
<h2>Lesson Goals</h2>
<ul>
<li>Understand workflow basics</li>
<li>Learn R concepts such as assignment and operators</li>
<li>Learn some useful R functions</li>
<li>Understand the basic data structures and data types</li>
<li>Be able to read data into R from a variety of sources</li>
</ul>
</div>
<div id="more-basics" class="section level2">
<h2>More basics</h2>
<p>Before we jump into details on data in R we need to introduce a few of the basics about working in the console, working via scripts, and workspaces/projects. We will also start working with some simple, yet important R functions.</p>
<div id="workflow" class="section level3">
<h3>Workflow</h3>
<p>Being thoughtful about workflow from the beginning of a project is something that gets overlooked a lot, but a little up-front effort can provide a big benefit. For our purposes we are going to make use of RStudio projects and will script <em>EVERYTHING</em>. The console has its utility and we will use it plenty, especially when we are first figuring out how to use commands. But beyond that, we will store all of our work in a script. The basic workflow I am going to advocate is:</p>
<ol style="list-style-type: decimal">
<li>Use a single project for this workshop (we created that in Lesson 1: Exercise 1).</li>
<li>Start everything in a script and use copy/paste, Ctrl+Enter / Cmd+Enter, or the RStudio tools to send to the console.</li>
<li>Use a new script for each lesson.</li>
<li>Comment ruthlessly.</li>
<li>Don’t save .RData files or workspace history. The script should recreate whatever you need.</li>
</ol>
<p>This, of course, is not the only way you can structure a workflow, but I think it should be a good starting point for this workshop and one you can adapt to your own work afterwards. And to provide a little motivation, the more you utilize scripts, the more reproducible your work is, the more likely you will be able to recall what you did 3 months from now (your future self will thank you), and the easier it will be to transition your work from scripts to functions and, ultimately, to R packages.</p>
</div>
<div id="working-in-the-console" class="section level3">
<h3>Working in the Console</h3>
<p>As I mentioned above, the console and using R interactively is very powerful. We will do this quite a bit. Let’s spend a little time playing around in the console and learn a few new functions.</p>
<p>R can be used as a calculator and a way to compare values. Some examples of the basic operators:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#A really powerful calculator!</span>
<span class="dv">1</span> +<span class="st"> </span><span class="dv">1</span> <span class="co">#Add</span>
<span class="dv">10</span> -<span class="st"> </span><span class="dv">4</span> <span class="co">#Subtract</span>
<span class="dv">3</span> *<span class="st"> </span><span class="dv">2</span> <span class="co">#Multiply</span>
<span class="dv">3</span> ^<span class="st"> </span><span class="dv">3</span> <span class="co">#Exponents</span>
<span class="dv">100</span> /<span class="st"> </span><span class="dv">10</span> <span class="co">#Divide</span>
<span class="dv">5</span> %%<span class="st"> </span><span class="dv">2</span> <span class="co">#Modulus</span>
<span class="dv">5</span> &gt;<span class="st"> </span><span class="dv">2</span> <span class="co">#Greater than</span>
<span class="dv">4</span> &lt;<span class="st"> </span><span class="dv">5</span> <span class="co">#Less than</span>
<span class="dv">5</span> &lt;=<span class="st"> </span><span class="dv">5</span> <span class="co">#Less than or equal</span>
<span class="dv">8</span> &gt;=<span class="st"> </span><span class="dv">2</span> <span class="co">#Greater than or equal</span>
<span class="dv">2</span> ==<span class="st"> </span><span class="dv">2</span> <span class="co">#Equality: notice that it is TWO equal signs!</span>
<span class="dv">5</span> !=<span class="st"> </span><span class="dv">7</span> <span class="co">#Not Equals</span></code></pre></div>
<p>That’s neat, but so what…</p>
<p>Well, it could be interesting to do something with those values and save them for re-use. We can do that with objects (everything in R is an object) and use the assignment operator, <code>&lt;-</code>. Know that object names cannot start with a number, contain spaces, or (most) special characters. Underscore and periods are allowed.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Numeric assignment</span>
x &lt;-<span class="st"> </span><span class="dv">5</span>
x</code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">y &lt;-<span class="st"> </span>x +<span class="st"> </span><span class="dv">1</span>
y</code></pre></div>
<pre><code>## [1] 6</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">z &lt;-<span class="st"> </span>x +<span class="st"> </span>y
z</code></pre></div>
<pre><code>## [1] 11</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Character</span>
a &lt;-<span class="st"> &quot;Bob&quot;</span>
a</code></pre></div>
<pre><code>## [1] &quot;Bob&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">b &lt;-<span class="st"> &quot;Sue&quot;</span>
b</code></pre></div>
<pre><code>## [1] &quot;Sue&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a2 &lt;-<span class="st"> &quot;Larry&quot;</span>
a2</code></pre></div>
<pre><code>## [1] &quot;Larry&quot;</code></pre>
<p>Now that we have a little experience working in the console and creating objects with <code>&lt;-</code>, we might want to be able to do some additional things to navigate around, look at these objects etc.</p>
<p>Some functions that you might find useful for working with your R workspace:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#List all objects in current workspace</span>
<span class="kw">ls</span>() 
<span class="kw">ls</span>(<span class="dt">pattern=</span><span class="st">&quot;a&quot;</span>)

<span class="co">#Remove an object</span>
<span class="kw">rm</span>(x)

<span class="co">#Save your workspace</span>
<span class="co">#Saves the whole thing to a file called lessonB.RData</span>
<span class="kw">save.image</span>(<span class="st">&quot;lessonB.RData&quot;</span>) 
<span class="co">#Saves just the a and y objects to a file called lessonB_ay.RData</span>
<span class="kw">save</span>(a, y, <span class="dt">file=</span><span class="st">&quot;lessonB_ay.RData&quot;</span>)</code></pre></div>
<p>A note about saving your workspace: This should not be something you do regularly because your script should contain code that can easily recreate all of the objects in your workspace.</p>
<p>This is probably a good spot to bring up quotes vs no quotes around arguments in a function. This is a very common stumbling block. The general rule is that no quotes are used only when referring to an object that currently exists. Quotes are used in all other cases. For instance in <code>save(a, y, file=&quot;lessonB_ay.RData&quot;)</code> the objects <code>a</code> and <code>y</code> are not quoted because they are objects in the workspace. <code>file</code> is an argument of save and arguments are never quoted. We quote the name of the file “lessonB_ay.RData” because it is not an R object but the name of a file to be created. You will likely still have some issues with this. My recommendation is to think about if it is an object in your R workspace or not. If so, no quotes! This isn’t foolproof, but works well most of the time.</p>
<p>Next thing you might want to do is navigate around your files and directories.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#See the current directory</span>
<span class="kw">getwd</span>()

<span class="co">#Change the directory</span>
<span class="kw">setwd</span>(<span class="st">&quot;temp&quot;</span>)

<span class="co">#List files and directories</span>
<span class="kw">list.files</span>()</code></pre></div>
<p>While you can do this directly from the console, it is going to be better practice to mostly use RStudio projects to manage your folders, working directory etc. You can also navigate using the Files, etc. pane.</p>
</div>
</div>
<div id="exercise-1" class="section level2">
<h2>Exercise 1</h2>
<p>For this first excercise I am actually going to ignore my workflow advice from above. We are still in explore mode and saving this as a script doesn’t yet make a whole lot of sense. Remember to use the green stickies when you have completed, and red stickies if you are running into problems. So, for this exercise:</p>
<ol style="list-style-type: decimal">
<li>Create two objects named <code>number1</code> and <code>number2</code> and give them the values of 25 and 4, respectively</li>
<li>Create two more objects named <code>string1</code> and <code>string2</code>, give them any character string that you would like.</li>
<li>Now using <code>number1</code>,<code>number2</code>, and the power of math create an object called <code>number3</code> that equals 100.</li>
<li>Create two more objects whose value is of your choosing</li>
<li>List the objects in your workspace</li>
<li>Remove <code>string2</code></li>
<li>Try to add <code>string1</code> and <code>number1</code>. What happens?</li>
</ol>
<p>So the last question in exercise 1 was a bit of a contrived way to segue into data types and structures. So with that last bit, what did we ask R to do? Why did it respond the way it did?</p>
<p>In short it has a lot to do with data types. Let’s learn some more.</p>
</div>
<div id="data-types-and-data-structures-in-r" class="section level2">
<h2>Data types and data structures in R</h2>
<p><em>Borrowed liberally from Jenny Bryan’s <a href="http://www.stat.ubc.ca/~jenny/STAT545A/quick-index.html">course materials on r</a> and Karthik Ram’s <a href="https://github.com/swcarpentry/2013-10-09-canberra">material from the Canberra Software Carpentry R Bootcamp</a>. Anything good is because of Jenny and Karthik. Mistakes are all mine.</em></p>
<p>Remember that everything in R is an object. With regards to data, those objects have some specific characteristics that help R (and us) know what kind of data we are dealing with and what kind of operations can be done on that data. This stuff may be a bit dry, but a basic understanding will help as so much of what we do with analysis has to do with the organization and type of data we have. First, lets discuss the atomic data types.</p>
<div id="data-types" class="section level3">
<h3>Data Types</h3>
<p>There are 6 basic atomic classes: character, numeric (real or decimal), integer, logical, complex, and raw.</p>
<table>
<thead>
<tr class="header">
<th align="left">Example</th>
<th align="right">Type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">“a”, “swc”</td>
<td align="right">character</td>
</tr>
<tr class="even">
<td align="left">2, 15.5</td>
<td align="right">numeric</td>
</tr>
<tr class="odd">
<td align="left">2L</td>
<td align="right">integer</td>
</tr>
<tr class="even">
<td align="left"><code>TRUE</code>, <code>FALSE</code></td>
<td align="right">logical</td>
</tr>
<tr class="odd">
<td align="left">1+4i</td>
<td align="right">complex</td>
</tr>
<tr class="even">
<td align="left">62 6f 62</td>
<td align="right">raw</td>
</tr>
</tbody>
</table>
<p>In this workshop we will deal almost exclusively with three (and these are, in my experience, by far the most common): character, numeric, and logical.</p>
</div>
<div id="na-inf-and-nan" class="section level3">
<h3>NA, Inf, and NaN</h3>
<p>There are values that you will run across on ocassion that aren’t really data types but are important to know about.</p>
<p><code>NA</code> is R’s value for missing data. You will see this often and need to figure out how to deal with them in your analysis. A few built in functions are useful for dealing with <code>NA</code>. We will show their usage a bit later.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">na.omit</span>() <span class="co">#na.omit - removes them</span>
<span class="kw">na.exclude</span>() <span class="co">#similar to omit, but has different behavior with some functions.</span>
<span class="kw">is.na</span>() <span class="co">#Will tell you if a value is NA</span></code></pre></div>
<p><code>Inf</code> is infinity. You can have positive or negative infinity.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">1</span> /<span class="st"> </span><span class="dv">0</span></code></pre></div>
<pre><code>## [1] Inf</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">1</span> /<span class="st"> </span><span class="ot">Inf</span></code></pre></div>
<pre><code>## [1] 0</code></pre>
<p><code>NaN</code> means Not a number. it’s an undefined value.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">0</span> /<span class="st"> </span><span class="dv">0</span></code></pre></div>
<pre><code>## [1] NaN</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="ot">NaN</span></code></pre></div>
<pre><code>## [1] NaN</code></pre>
</div>
<div id="data-structures" class="section level3">
<h3>Data Structures</h3>
<p>The next set of information relates to the many data structures in R.</p>
<p>The data structures in base R include:</p>
<ul>
<li>vector</li>
<li>list</li>
<li>matrix</li>
<li>data frame</li>
<li>factors</li>
<li>tables</li>
</ul>
<p>Our efforts will focus on vectors and data frames. We will discuss just the basics of lists and factors. I will leave it to your curiousity to explore the matrix and table data structures.</p>
</div>
<div id="vectors" class="section level3">
<h3>Vectors</h3>
<p>A vector is the most common and basic data structure in <code>R</code> and is pretty much the workhorse of R.</p>
<p>A vector can be a vector of characters, logical, integers or numeric and all values in the vector must be of the same data type. Specifically, these are known as atomic vectors.</p>
<p>There are many ways to create vectors, but we will focus on one, <code>c()</code>, which is a very common way to create a vector from a set of values. <code>c()</code> combines a set of arguments into a single vector. For instance,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">char_vector &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Joe&quot;</span>, <span class="st">&quot;Bob&quot;</span>, <span class="st">&quot;Sue&quot;</span>)
num_vector &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">6</span>, <span class="dv">99</span>, -<span class="dv">2</span>)
logical_vector &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>, T, F)</code></pre></div>
<p>Now that we have these we can use some functions to examine the vectors.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Print the vector</span>
<span class="kw">print</span>(char_vector)</code></pre></div>
<pre><code>## [1] &quot;Joe&quot; &quot;Bob&quot; &quot;Sue&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">char_vector</code></pre></div>
<pre><code>## [1] &quot;Joe&quot; &quot;Bob&quot; &quot;Sue&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Examine the vector</span>
<span class="kw">typeof</span>(char_vector)</code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">length</span>(logical_vector)</code></pre></div>
<pre><code>## [1] 6</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(num_vector)</code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(char_vector)</code></pre></div>
<pre><code>##  chr [1:3] &quot;Joe&quot; &quot;Bob&quot; &quot;Sue&quot;</code></pre>
<p>We can also add to existing vectors using <code>c()</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">char_vector &lt;-<span class="st"> </span><span class="kw">c</span>(char_vector, <span class="st">&quot;Jeff&quot;</span>)
char_vector</code></pre></div>
<pre><code>## [1] &quot;Joe&quot;  &quot;Bob&quot;  &quot;Sue&quot;  &quot;Jeff&quot;</code></pre>
<p>There are some ways to speed up entry of values.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Create a series</span>
series &lt;-<span class="st"> </span><span class="dv">1</span>:<span class="dv">10</span>
<span class="kw">seq</span>(<span class="dv">10</span>)</code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">seq</span>(<span class="dv">1</span>, <span class="dv">10</span>, <span class="dt">by =</span> <span class="fl">0.1</span>)</code></pre></div>
<pre><code>##  [1]  1.0  1.1  1.2  1.3  1.4  1.5  1.6  1.7  1.8  1.9  2.0  2.1  2.2  2.3
## [15]  2.4  2.5  2.6  2.7  2.8  2.9  3.0  3.1  3.2  3.3  3.4  3.5  3.6  3.7
## [29]  3.8  3.9  4.0  4.1  4.2  4.3  4.4  4.5  4.6  4.7  4.8  4.9  5.0  5.1
## [43]  5.2  5.3  5.4  5.5  5.6  5.7  5.8  5.9  6.0  6.1  6.2  6.3  6.4  6.5
## [57]  6.6  6.7  6.8  6.9  7.0  7.1  7.2  7.3  7.4  7.5  7.6  7.7  7.8  7.9
## [71]  8.0  8.1  8.2  8.3  8.4  8.5  8.6  8.7  8.8  8.9  9.0  9.1  9.2  9.3
## [85]  9.4  9.5  9.6  9.7  9.8  9.9 10.0</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Repeat values</span>
fives &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="dv">5</span>, <span class="dv">10</span>)
fives</code></pre></div>
<pre><code>##  [1] 5 5 5 5 5 5 5 5 5 5</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">laugh &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="st">&quot;Ha&quot;</span>, <span class="dv">100</span>)
laugh</code></pre></div>
<pre><code>##   [1] &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot;
##  [15] &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot;
##  [29] &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot;
##  [43] &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot;
##  [57] &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot;
##  [71] &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot;
##  [85] &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot; &quot;Ha&quot;
##  [99] &quot;Ha&quot; &quot;Ha&quot;</code></pre>
<p>Lastly, R can operate directly on vectors. This means we can use use our arithmetic functions on vectors and also many functions can deal with vectors directly. The result of this is another vector, equal to the length of the longest one.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#A numeric example</span>
x &lt;-<span class="st"> </span><span class="dv">1</span>:<span class="dv">10</span>
y &lt;-<span class="st"> </span><span class="dv">10</span>:<span class="dv">1</span>
z &lt;-<span class="st"> </span>x +<span class="st"> </span>y
z</code></pre></div>
<pre><code>##  [1] 11 11 11 11 11 11 11 11 11 11</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#another one, with different lengths</span>
a &lt;-<span class="st"> </span><span class="dv">1</span>
b &lt;-<span class="st"> </span><span class="dv">1</span>:<span class="dv">10</span>
c &lt;-<span class="st"> </span>a +<span class="st"> </span>b
c</code></pre></div>
<pre><code>##  [1]  2  3  4  5  6  7  8  9 10 11</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#A character example with paste()</span>
first &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Buggs&quot;</span>, <span class="st">&quot;Elmer&quot;</span>, <span class="st">&quot;Pepe&quot;</span>, <span class="st">&quot;Foghorn&quot;</span>)
last &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Bunny&quot;</span>, <span class="st">&quot;Fudd&quot;</span>, <span class="st">&quot;Le Pew&quot;</span>, <span class="st">&quot;Leghorn&quot;</span>)
first_last &lt;-<span class="st"> </span><span class="kw">paste</span>(first, last)
first_last</code></pre></div>
<pre><code>## [1] &quot;Buggs Bunny&quot;     &quot;Elmer Fudd&quot;      &quot;Pepe Le Pew&quot;     &quot;Foghorn Leghorn&quot;</code></pre>
</div>
<div id="factors" class="section level3">
<h3>Factors</h3>
<p>Factors are special vectors that represent categorical data. Factors can be ordered or unordered and are often important with modelling functions such as <code>lm()</code> and <code>glm()</code> (think dummy variables) and also in plot methods.</p>
<p>Factors are pretty much integers that have labels on them. While factors look (and often behave) like character vectors, they are actually integers under the hood, and you need to be careful when treating them like strings. Some string methods will coerce factors to strings, while others will throw an error.</p>
<p>Factors may be ordered (e.g., low, medium, high) or unordered (e.g. male, female).</p>
<p>Factors can be created with <code>factor()</code>. Input is a character vector.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#An unordered factor</span>
yn &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;yes&quot;</span>, <span class="st">&quot;no&quot;</span>, <span class="st">&quot;no&quot;</span>, <span class="st">&quot;yes&quot;</span>, <span class="st">&quot;yes&quot;</span>))
yn</code></pre></div>
<pre><code>## [1] yes no  no  yes yes
## Levels: no yes</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#An ordered factor</span>
lmh &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;high&quot;</span>,<span class="st">&quot;high&quot;</span>,<span class="st">&quot;low&quot;</span>,<span class="st">&quot;medium&quot;</span>,<span class="st">&quot;low&quot;</span>,<span class="st">&quot;medium&quot;</span>,<span class="st">&quot;high&quot;</span>),
              <span class="dt">levels=</span><span class="kw">c</span>(<span class="st">&quot;low&quot;</span>,<span class="st">&quot;medium&quot;</span>,<span class="st">&quot;high&quot;</span>), <span class="dt">ordered=</span><span class="ot">TRUE</span>)
lmh</code></pre></div>
<pre><code>## [1] high   high   low    medium low    medium high  
## Levels: low &lt; medium &lt; high</code></pre>
</div>
<div id="data-frames" class="section level3">
<h3>Data frames</h3>
<p>Data frames are the data structure you will most often use when doing data analysis. They are the most spreadsheet like data structure in R, but unlike spreadsheets there are some rules that must be followed. This is a good thing!</p>
<p>Data frames are made up of rows and columns. Each column is a vector and those vectors must be of the same length. Essentially, anything that can be saved in a <code>.csv</code> file can be read in as a data frame. Data frames have several attributes. The ones you will interact with the most are column names, row names, dimension.</p>
<p>So one way to create a data frame is from some vectors and the <code>data.frame()</code> command:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">numbers &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>:<span class="dv">26</span>, <span class="ot">NA</span>)
lettersNew &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="ot">NA</span>, letters) <span class="co">#letters is a special object available from base R</span>
logical &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="kw">rep</span>(<span class="ot">TRUE</span>, <span class="dv">13</span>), <span class="ot">NA</span>, <span class="kw">rep</span>(<span class="ot">FALSE</span>, <span class="dv">13</span>))
examp_df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(lettersNew, numbers, logical, <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)</code></pre></div>
<p>Now that we have this data frame we probably want to do something with it. We can examine it in many ways.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#See the first 6 rows</span>
<span class="kw">head</span>(examp_df)</code></pre></div>
<pre><code>##   lettersNew numbers logical
## 1       &lt;NA&gt;       1    TRUE
## 2          a       2    TRUE
## 3          b       3    TRUE
## 4          c       4    TRUE
## 5          d       5    TRUE
## 6          e       6    TRUE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#See the last 6 rows</span>
<span class="kw">tail</span>(examp_df)</code></pre></div>
<pre><code>##    lettersNew numbers logical
## 22          u      22   FALSE
## 23          v      23   FALSE
## 24          w      24   FALSE
## 25          x      25   FALSE
## 26          y      26   FALSE
## 27          z      NA   FALSE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#See column names</span>
<span class="kw">names</span>(examp_df)</code></pre></div>
<pre><code>## [1] &quot;lettersNew&quot; &quot;numbers&quot;    &quot;logical&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#see row names</span>
<span class="kw">rownames</span>(examp_df)</code></pre></div>
<pre><code>##  [1] &quot;1&quot;  &quot;2&quot;  &quot;3&quot;  &quot;4&quot;  &quot;5&quot;  &quot;6&quot;  &quot;7&quot;  &quot;8&quot;  &quot;9&quot;  &quot;10&quot; &quot;11&quot; &quot;12&quot; &quot;13&quot; &quot;14&quot;
## [15] &quot;15&quot; &quot;16&quot; &quot;17&quot; &quot;18&quot; &quot;19&quot; &quot;20&quot; &quot;21&quot; &quot;22&quot; &quot;23&quot; &quot;24&quot; &quot;25&quot; &quot;26&quot; &quot;27&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Show structure of full data frame</span>
<span class="kw">str</span>(examp_df)</code></pre></div>
<pre><code>## 'data.frame':    27 obs. of  3 variables:
##  $ lettersNew: chr  NA &quot;a&quot; &quot;b&quot; &quot;c&quot; ...
##  $ numbers   : int  1 2 3 4 5 6 7 8 9 10 ...
##  $ logical   : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Show number of rows and colums</span>
<span class="kw">dim</span>(examp_df)</code></pre></div>
<pre><code>## [1] 27  3</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">nrow</span>(examp_df)</code></pre></div>
<pre><code>## [1] 27</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ncol</span>(examp_df)</code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Get summary info</span>
<span class="kw">summary</span>(examp_df)</code></pre></div>
<pre><code>##   lettersNew           numbers       logical       
##  Length:27          Min.   : 1.00   Mode :logical  
##  Class :character   1st Qu.: 7.25   FALSE:13       
##  Mode  :character   Median :13.50   TRUE :13       
##                     Mean   :13.50   NA's :1        
##                     3rd Qu.:19.75                  
##                     Max.   :26.00                  
##                     NA's   :1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#remove NA</span>
<span class="kw">na.omit</span>(examp_df)</code></pre></div>
<pre><code>##    lettersNew numbers logical
## 2           a       2    TRUE
## 3           b       3    TRUE
## 4           c       4    TRUE
## 5           d       5    TRUE
## 6           e       6    TRUE
## 7           f       7    TRUE
## 8           g       8    TRUE
## 9           h       9    TRUE
## 10          i      10    TRUE
## 11          j      11    TRUE
## 12          k      12    TRUE
## 13          l      13    TRUE
## 15          n      15   FALSE
## 16          o      16   FALSE
## 17          p      17   FALSE
## 18          q      18   FALSE
## 19          r      19   FALSE
## 20          s      20   FALSE
## 21          t      21   FALSE
## 22          u      22   FALSE
## 23          v      23   FALSE
## 24          w      24   FALSE
## 25          x      25   FALSE
## 26          y      26   FALSE</code></pre>
</div>
<div id="lists" class="section level3">
<h3>Lists</h3>
<p>Lists are actually a special type of vector, but it is probably best to think of them as their own thing. Lists can contain multiple items, of multiple types, and of multiple structures. They are very versatile and often used inside functions or as an output of functions.</p>
<p>Also, lists don’t print out like a vector. They print a new line for each element.</p>
<p>Lists are made simply with the <code>list()</code> function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">examp_list &lt;-<span class="st"> </span><span class="kw">list</span>(
  <span class="dt">letters=</span><span class="kw">c</span>(<span class="st">&quot;x&quot;</span>,<span class="st">&quot;y&quot;</span>,<span class="st">&quot;z&quot;</span>),
  <span class="dt">animals=</span><span class="kw">c</span>(<span class="st">&quot;cat&quot;</span>,<span class="st">&quot;dog&quot;</span>,<span class="st">&quot;bird&quot;</span>,<span class="st">&quot;fish&quot;</span>),
  <span class="dt">numbers=</span><span class="dv">1</span>:<span class="dv">100</span>,
  <span class="dt">df=</span>examp_df)
examp_list</code></pre></div>
<pre><code>## $letters
## [1] &quot;x&quot; &quot;y&quot; &quot;z&quot;
## 
## $animals
## [1] &quot;cat&quot;  &quot;dog&quot;  &quot;bird&quot; &quot;fish&quot;
## 
## $numbers
##   [1]   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17
##  [18]  18  19  20  21  22  23  24  25  26  27  28  29  30  31  32  33  34
##  [35]  35  36  37  38  39  40  41  42  43  44  45  46  47  48  49  50  51
##  [52]  52  53  54  55  56  57  58  59  60  61  62  63  64  65  66  67  68
##  [69]  69  70  71  72  73  74  75  76  77  78  79  80  81  82  83  84  85
##  [86]  86  87  88  89  90  91  92  93  94  95  96  97  98  99 100
## 
## $df
##    lettersNew numbers logical
## 1        &lt;NA&gt;       1    TRUE
## 2           a       2    TRUE
## 3           b       3    TRUE
## 4           c       4    TRUE
## 5           d       5    TRUE
## 6           e       6    TRUE
## 7           f       7    TRUE
## 8           g       8    TRUE
## 9           h       9    TRUE
## 10          i      10    TRUE
## 11          j      11    TRUE
## 12          k      12    TRUE
## 13          l      13    TRUE
## 14          m      14      NA
## 15          n      15   FALSE
## 16          o      16   FALSE
## 17          p      17   FALSE
## 18          q      18   FALSE
## 19          r      19   FALSE
## 20          s      20   FALSE
## 21          t      21   FALSE
## 22          u      22   FALSE
## 23          v      23   FALSE
## 24          w      24   FALSE
## 25          x      25   FALSE
## 26          y      26   FALSE
## 27          z      NA   FALSE</code></pre>
<p>If you want to learn more about lists or any other data structure, <a href="http://adv-r.had.co.nz/Data-structures.html">Hadley Wickham’s Advanced R section on data structures</a> is good.</p>
</div>
</div>
<div id="reading-data-into-r" class="section level2">
<h2>Reading data into R</h2>
<p>All of the examples so far have relied on entering data directly into the console or a script. That mode is certainly useful for demonstrating data structures, but would be a nightmare if you were dealing with a real dataset. What we generally want to do is read in data from a file or from a database that resides on your local machine or on the web. There are a gazillion ways that this can be accomplished, right now, we are going to work with one, <code>read.csv()</code>. It’s worth mentioning that many people want to read data from Excel files. There are a variety of ways to pull data from Excel, but we recommend saving it as a csv and reading it in using <code>read.csv</code>.</p>
<p><code>read.csv()</code> is a specialized version of <code>read.table()</code> that focuses on, big surprise here, <code>.csv</code> files. This command assumes a header row with column names and that the delimiter is a comma. The expected<br />
no data value is <code>NA</code> and by default, strings are converted to factors (this can trip people up).</p>
<p>Source files for <code>read.csv()</code> can either be on a local hard drive or, and this is pretty cool, on the web. If you had a local file it would be accessed like <code>mydf &lt;- read.csv(&quot;C:/path/to/local/file.csv&quot;)</code>. If you are grabbing data from a website, just put the URL in the function like <code>mydf &lt;- read.csv(&quot;http://www.mywebsitewithadataset.com/thecsvfileIwant.csv&quot;)</code>. As an aside, paths and use of forward vs back slash is important. R is looking for forward slashes (“/”), or Unix-like paths. You can use these in place of the back slash and be fine. You can use a back slash but it needs to be a double back slash (“\”). This is because the single backslash in an escape character that is used to indicate things like newlines or tabs. Doesn’t really matter which one you use, I would just select one and be consistent.</p>
<p>We are going to use the same dataset for the rest of this course (exercises will use different datasets). This dataset is originally from NWIS and was altered using <a href="https://github.com/USGS-R/gsIntroR/blob/master/R/create_df.R">this R code</a>. Download the required csv from <a href>here</a>. Put the file in your current working directory or include the entire filepath any palce we specify only the filename.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Read in the data and take a look at it</span>
intro_df &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;data/course_NWISdata.csv&quot;</span>)
<span class="kw">head</span>(intro_df)</code></pre></div>
<pre><code>##   site_no            dateTime Flow_Inst Flow_Inst_cd Wtemp_Inst pH_Inst
## 1 2336360 2011-05-03 21:45:00      14.0            X       21.4     7.2
## 2 2336300 2011-05-01 08:00:00      32.0            X       19.1     7.2
## 3 2337170 2011-05-29 22:45:00    1470.0            A       24.0     6.9
## 4 2203655 2011-05-25 01:30:00       7.5          A e       23.1       7
## 5 2336120 2011-05-02 07:30:00      16.0            A       19.7     7.1
## 6 2336120 2011-05-12 16:15:00      14.0          A e       22.3     7.2
##   DO_Inst
## 1     8.1
## 2     7.1
## 3     7.6
## 4     6.2
## 5     7.6
## 6     8.1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(intro_df)</code></pre></div>
<pre><code>## 'data.frame':    3000 obs. of  7 variables:
##  $ site_no     : int  2336360 2336300 2337170 2203655 2336120 2336120 2336120 2336300 2336360 2336120 ...
##  $ dateTime    : Factor w/ 1958 levels &quot;2011-05-01 04:00:00&quot;,..: 184 13 1825 1525 80 721 726 126 1676 1703 ...
##  $ Flow_Inst   : num  14 32 1470 7.5 16 14 14 32 162 162 ...
##  $ Flow_Inst_cd: Factor w/ 4 levels &quot;A&quot;,&quot;A e&quot;,&quot;E&quot;,..: 4 4 1 2 1 2 1 4 2 3 ...
##  $ Wtemp_Inst  : num  21.4 19.1 24 23.1 19.7 22.3 23.4 22.3 21 21.2 ...
##  $ pH_Inst     : Factor w/ 32 levels &quot; &quot;,&quot;6.2&quot;,&quot;6.3&quot;,..: 12 12 9 10 11 12 13 13 6 4 ...
##  $ DO_Inst     : num  8.1 7.1 7.6 6.2 7.6 8.1 8.5 7.5 7.6 7.2 ...</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">dim</span>(intro_df)</code></pre></div>
<pre><code>## [1] 3000    7</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(intro_df)</code></pre></div>
<pre><code>##     site_no                        dateTime      Flow_Inst       
##  Min.   : 2203655   2011-05-05 02:45:00:   5   Min.   :-90800.0  
##  1st Qu.: 2336240   2011-05-10 23:30:00:   5   1st Qu.:     5.1  
##  Median : 2336360   2011-05-14 09:00:00:   5   Median :    12.0  
##  Mean   : 4217421   2011-05-16 09:00:00:   5   Mean   :   488.2  
##  3rd Qu.: 2336728   2011-05-21 10:00:00:   5   3rd Qu.:    25.0  
##  Max.   :21989773   2011-05-24 14:45:00:   5   Max.   : 92100.0  
##                     (Other)            :2970   NA's   :90        
##  Flow_Inst_cd   Wtemp_Inst      pH_Inst       DO_Inst      
##  A  :1500     Min.   :11.9   7.2    :574   Min.   : 3.200  
##  A e: 500     1st Qu.:18.2   7.1    :435   1st Qu.: 6.800  
##  E  : 500     Median :21.2   7      :385   Median : 7.700  
##  X  : 500     Mean   :20.7   7.3    :376   Mean   : 7.692  
##               3rd Qu.:23.2   7.4    :274   3rd Qu.: 8.600  
##               Max.   :28.0   (Other):856   Max.   :12.600  
##               NA's   :90     NA's   :100   NA's   :90</code></pre>
<p>A common issue in reading in data is getting the column formats right. For example, the <code>dateTime</code> and <code>Flow_Inst_cd</code> columns in <code>intro_df</code> are factors by default (can you confirm this?). If you want it to be a character column instead, you can prevent it ever becoming a factor with the <code>stringsAsFactors</code> argument to <code>read.csv</code>, <code>data.frame</code>, and other data.frame-making functions:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(<span class="kw">read.csv</span>(<span class="st">&quot;data/course_NWISdata.csv&quot;</span>))
<span class="kw">str</span>(<span class="kw">read.csv</span>(<span class="st">&quot;data/course_NWISdata.csv&quot;</span>, <span class="dt">stringsAsFactors=</span><span class="ot">FALSE</span>))</code></pre></div>
<p>Another issue with reading in USGS data is that site numbers often have a leading zero that is dropped if it defaults to an integer. To prevent this, you can specify the class for each column, using NA for ones that you would like R to choose. In our dataset, we know that site numbers (column one) should be treated as character. We aren’t positive about the other six, so we say <code>NA</code> in the arguments for <code>colClasses</code> to indicate we want <code>read.table</code> to choose for us. See <code>?read.table</code> for more information about how that how that works.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">intro_df &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;data/course_NWISdata.csv&quot;</span>, <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>, <span class="dt">colClasses =</span> <span class="kw">c</span>(<span class="st">&quot;character&quot;</span>, <span class="kw">rep</span>(<span class="ot">NA</span>, <span class="dv">6</span>)))
<span class="kw">str</span>(intro_df)</code></pre></div>
<pre><code>## 'data.frame':    3000 obs. of  7 variables:
##  $ site_no     : chr  &quot;02336360&quot; &quot;02336300&quot; &quot;02337170&quot; &quot;02203655&quot; ...
##  $ dateTime    : chr  &quot;2011-05-03 21:45:00&quot; &quot;2011-05-01 08:00:00&quot; &quot;2011-05-29 22:45:00&quot; &quot;2011-05-25 01:30:00&quot; ...
##  $ Flow_Inst   : num  14 32 1470 7.5 16 14 14 32 162 162 ...
##  $ Flow_Inst_cd: chr  &quot;X&quot; &quot;X&quot; &quot;A&quot; &quot;A e&quot; ...
##  $ Wtemp_Inst  : num  21.4 19.1 24 23.1 19.7 22.3 23.4 22.3 21 21.2 ...
##  $ pH_Inst     : chr  &quot;7.2&quot; &quot;7.2&quot; &quot;6.9&quot; &quot;7&quot; ...
##  $ DO_Inst     : num  8.1 7.1 7.6 6.2 7.6 8.1 8.5 7.5 7.6 7.2 ...</code></pre>
<p>Now our data frame is read in with columns as numeric, integer, or character, and the site numbers still have their leading zeros.</p>
<p>You can also save objects in your R workspace as csv files.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">write.table</span>(intro_df, <span class="dt">file =</span> <span class="st">&quot;example_data_frame.csv&quot;</span>, <span class="dt">sep=</span><span class="st">&quot;,&quot;</span>)
<span class="co"># or</span>
<span class="kw">write.csv</span>(intro_df, <span class="dt">file=</span><span class="st">&quot;example_data_frame.csv&quot;</span>)</code></pre></div>
</div>
<div id="optional-reading-nwis-data-into-r" class="section level2">
<h2>Optional: Reading NWIS data into R</h2>
<p>The USGS has created an R package to directly link NWIS with R. It is called <code>dataRetrieval</code>. With it, you can quickly and easily get NWIS data into R. The package functions are designed to handle the data types when pulling the data, so you don’t need to worry about it. Go ahead and experiment with it.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dataRetrieval)
<span class="co"># Gather NWIS data:</span>
siteListPhos &lt;-<span class="st"> </span><span class="kw">readNWISdata</span>(
  <span class="dt">stateCd=</span><span class="st">&quot;FL&quot;</span>, <span class="dt">parameterCd=</span><span class="st">&quot;00665&quot;</span>, <span class="dt">drainAreaMin=</span><span class="dv">400</span>,
  <span class="dt">siteType=</span><span class="st">&quot;ST&quot;</span>, <span class="dt">service=</span><span class="st">&quot;site&quot;</span>) 
phosData &lt;-<span class="st"> </span><span class="kw">readNWISqw</span>(siteListPhos$site_no, <span class="dt">parameterCd=</span><span class="st">&quot;00665&quot;</span>)
<span class="kw">head</span>(phosData)</code></pre></div>
<p>So now we have a basic feel on how to work in R, how data is dealt with, and how to pull data from a file into R. Next we are going to practice some of these skills.</p>
</div>
<div id="exercise-2" class="section level2">
<h2>Exercise 2</h2>
<p>For this exercise we are going to read in data from a csv file, look at that data, and be able to describe some basic information about that dataset. The data we will use originally comes from the <code>smwrData</code> datasets (and can be accessed using the <code>data()</code> function, but we are going to practice reading in csv files).</p>
<ol style="list-style-type: decimal">
<li>Create a new script in RStudio. Name it “usgs_analysis.R”</li>
<li>As you write the script comment as you go.</li>
<li>Add commands to create a new data frame named <code>ion_balance</code> that contains all the data in the IonBalance.csv file. Download this file from the curriculum website: __. Be sure you put the file in your current working directory or include the entire filepath.</li>
<li>Add commands to your script that will provides details on the structure (hint: str) of this newly created data frame.</li>
<li>Run the script and make sure it doesn’t throw any errors and you do in fact get the data frame.</li>
<li>If you still have some time, explore the data frame using some of the commands we covered.</li>
</ol>
<table>
<thead>
<tr class="header">
<th align="left">Previous Lesson</th>
<th align="left">Current Lesson</th>
<th align="left">Next Lesson</th>
<th align="left">Workshop Outline</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="A_Introduction.html">A. Introduction</a></td>
<td align="left"><a href="B_Get.html">B. Get</a></td>
<td align="left"><a href="C_Clean.html">C. Clean</a></td>
<td align="left"><a href="Outline.html">Workshop Outline</a></td>
</tr>
</tbody>
</table>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
